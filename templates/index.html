<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>YT Downloader</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    
</head>
<body style="font-family: sans-serif;" class="bg-secondary text-white">
    <span>By: Mark.</span>
    <div class="row justify-content-center">
        <div class="col-md-6 mt-1">
            <div class="text-center">
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
               
                {% for category, message in messages %}
                <!-- alert -->
                <div class="alert alert-{{category}}" role="alert">
                    <strong>{{ message }}</strong>
                </div>
                {% endfor %}
                {% endif %}
                {% endwith %}
                    
            </div>
            <h2 class="mt-3 text-center">Youtube Video Downloader</h2>
            <div class="mt-2 text-center">
                Masukan Link YouTube Ke Form Di Bawah ini:
                <hr>
            </div>
            <div class="contaier mt-2">
                <div class="row justify-content-center">
                    <div class="col-10">
                        <form action="{{ url_for('home') }}" method="POST">
                            <input class="form-control mt-3" type="text" placeholder="Enter the YouTube video URL" aria-label="default input example" name="url">
                            <button type="submit" class="btn btn-primary mt-3 mb-1">Convert</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>    


        
<script>

        // alert
        setTimeout(function() {
        var alerts = document.getElementsByClassName("alert");
        for (var i = 0; i < alerts.length; i++) {
        alerts[i].style.display = "none";
        }
        },4000);

        // refreh halaman
    //     let form = document.querySelector('form');
    //     form.addEventListener('submit', function(e) {
    //     e.preventDefault();

    //     // mengirim data form ke server
    //     let xhr = new XMLHttpRequest();
    //     xhr.open("POST", form.action, true);
    //     xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    //     xhr.onreadystatechange = function() {
    //         if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
    //   // merefresh halaman setelah proses selesai
    //         window.location.reload();
    //     }
    //     }
        
    //     xhr.send(new FormData(form));
    //     });

        
</script>
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
</body>
</html>